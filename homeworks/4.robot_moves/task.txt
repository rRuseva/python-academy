Робот изпълняващ команди (максимален брой точки: 25)


Робот е разположен на правоъгълна дъска с размери n×m (n реда, m колони), разграфена на квадратчета. Редовете за номерирани от 1 до n отгоре надолу, а колоните от 1 до m отляво надясно.

Роботът може да се движи от текущото квдратче, на което се намира, до всяко от четирите съседни квадратчета (със съседна страна).

Всяко квадратче има написан отгоре символ - една от буквите 'L', 'R', 'D' или 'U', които обозначават посоката в която роботът следва да се придвижи попадайки на съответното квадратче -  ляво, дясно, долу или горе съответно.

Роботът може да започне движението си от произволна клетка. След това се придвижва към съседна клетка в посока индикирана върху текущото квадратче, на една стъпка, при спазване на следните ограничения:

    Ако роботът се придвижи (излезе) извън ръба на дъската, той пада и приключва своята работа.
    Ако роботът попадне в клетка, която вече е посетил, той спира да се движи и се самоизключва (приключва своята работа).

Роботът има поглед върху цялата дъска и написаните върху всяко кваратче символи и може да избере от кое квадратче да започне своето движение. Неговата цел е да извърши максимален брой стъпки (придвижвания от квадратче в квадратче) преди да падне от дъската или да се самоизключи.

1. Напишете програма, която определя от кое квадратче роботът трябва да започне своето движение, за да може да изпълни максимален брой команди (придвижвания). Командата се счита за успешно изпълнена, ако роботът се е придвижил от квадратчето, върху което е написана командата (без значение дали е отишъл на друго квадратче или е паднал от дъската). (20 точки)

2. Програмата следва да получи като аргумент от команден ред име на текстов файл с входни данни за тестване на алгоритъма и да прочете данните от този файл. Първият ред от файла съдържа цяло число 
 (1≤t≤10000) - брой тестови случаи в теста. Всеки тестови случай се предшества от празен ред. Следва ред, който съдържа целите числа n и m (; 1

) ширината и височината на дъската. Този ред се следва от n реда в текстовия файл, всеки от които описва съответния ред от дъската и съдържа точно m букви измежду 'L', 'R', 'D' и 'U'. Гарантирано е че сумата от размерите на всички дъски в тестовите случаи не надвишава 4 x 106. (4 точки)

3. За всеки тестов случай, програмата следва да изведе на конзолата три числа - l, c и s (
; 1≥0), обозначаващи съответно клетката (l,c) - ред и колона - от която роботът следва да започне своето движение на съответната диска, както и максималния брой стъпки s, които роботът може да направи, преди да падне от дъската или да се самоизключи. Ако има няколко отговора, програмата следва да изведе всеки от тях на същия ред разделени с ';'. (1 точки)